// Generated by CoffeeScript 1.10.0
(function() {
  var bboxes, generateGrid, getBBoxes, grid, paper, paper_height, paper_width;

  paper_height = 500;

  paper_width = 500;

  paper = Raphael(document.querySelector('#app'), paper_width, paper_height);

  generateGrid = function(num, totalWidth, totalHeight) {
    var bbox, cx, cy, i, row, rows, sub_i;
    i = 0;
    cx = 0;
    cy = 0;
    rows = [];
    bbox = {};
    while (num > i) {
      row = [];
      sub_i = 0;
      cx = 0;
      while (num > sub_i) {
        row.push(paper.rect(cx, cy, totalWidth / num, totalHeight / num));
        row[sub_i].attr({
          'stroke-width': 3,
          'fill': 'lightgray'
        });
        bbox = row[sub_i].getBBox();
        cx = cx + bbox.width;
        sub_i++;
      }
      rows.push(row);
      cy = cy + bbox.height;
      i++;
    }
    return rows;
  };

  getBBoxes = function(grid) {
    var cell, j, k, len, len1, result, row, sub;
    result = [];
    for (j = 0, len = grid.length; j < len; j++) {
      row = grid[j];
      sub = [];
      for (k = 0, len1 = row.length; k < len1; k++) {
        cell = row[k];
        sub.push(cell.getBBox());
      }
      result.push(sub);
    }
    return result;
  };

  grid = generateGrid(3, paper_width, paper_height);

  bboxes = getBBoxes(grid);

  console.log(grid);

  console.log(bboxes);

}).call(this);
